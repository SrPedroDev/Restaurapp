{% extends 'base.html.twig' %}

{% block contenidoApartado %}
<h2>Turnos del día {{ fecha|date('d/m/Y') }}</h2>

{% for tipo in ['COMIDAS', 'CENAS'] %}
    <div class="turno-bloque">
        <h3>Turno de {{ tipo|capitalize }}</h3>

        {% if turnos[tipo] %}
            <p><strong>Inicio:</strong> {{ turnos[tipo].horaInicio|date('H:i') }}</p>
            <p><strong>Fin:</strong> {{ turnos[tipo].horaFin|date('H:i') }}</p>
            <p><strong>Reservas por Mesa:</strong> {{ turnos[tipo].reservasPorMesa }}</p>

            <a href="{{ path('turno_editar', { id: turnos[tipo].id }) }}">✏️ Editar</a>


            {# Opción 2 (más segura): redirigir a vista de confirmación (descomenta si usas confirmación) #}
          <a href="{{ path('turno_eliminar', { id: turnos[tipo].id }) }}">🗑️ Confirmar eliminación</a> 

        {% else %}
            <p>No hay turno de {{ tipo }} creado.</p>
            <a href="{{ path('turno_crear', { tipo: tipo, fecha: fecha|date('Y-m-d') }) }}">➕ Crear turno</a>
        {% endif %}
    </div>
{% endfor %}

<a href="{{ path('gestion_turnos')}}" class="btn btn-secondary mt-5">← Volver</a>

{% endblock %}
